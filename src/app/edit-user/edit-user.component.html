<div class="form-container">
  <div class="profile-image-container" (click)="fileInput.click()">
    <ng-container *ngIf="showImage && profileImage; else initialsTemplate">
      <img
      [src]="profileImage"
      alt="Profile"
      (error)="onImageError()"
      style="
        width: 100px;
        height: 100px;
        border-radius: 50%;
        object-fit: cover;
        margin-left: 50px;
        margin-right: -75px;
        display: flex;
        align-items: center;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2); /* Optional: Add a subtle shadow for clearer distinction */
      "
      />
    </ng-container>
    <ng-template #initialsTemplate>
      <div class="initials">
        {{ getInitials(user.userName) }}
      </div>
    </ng-template>
    <input
      #fileInput
      type="file"
      hidden
      (change)="onFileChange($event)"
      accept="image/*"
    />
  </div>
  <ng-template #initials>
    <div
      style="
        width: 45px;
        height: 45px;
        margin-left: 50px;
        margin-right: -75px;
        border-radius: 50%;
        background-color: #007bff;
        color: white;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        font-size: 14px;
      "
    >
      {{ getInitials(user.userName) }}
    </div>
  </ng-template>
  <form [formGroup]="userForm" (ngSubmit)="onSubmit()">
    <!-- Profile Image Section -->
   

    <div class="form-group">
      <label for="name">Name</label>
      <input
        id="name"
        formControlName="name"
        type="text"
        class="form-control"
        placeholder="Enter your name"
        required
      />
    </div>

    <div class="form-group">
      <label for="dob">Date of Birth</label>
      <input
        id="dob"
        formControlName="dob"
        type="date"
        class="form-control"
        required
      />
    </div>

    <div class="form-group">
      <label for="username">Username</label>
      <input
        id="username"
        formControlName="userName"
        type="text"
        class="form-control"
        placeholder="Enter username"
        required
      />
    </div>

    <div class="form-group">
      <label for="gender">Gender</label>
      <select
        id="gender"
        formControlName="gender"
        class="form-control"
        required
      >
        <option value="MALE">Male</option>
        <option value="FEMALE">Female</option>
        <option value="OTHER">Other</option>
      </select>
    </div>

    <div class="form-group">
      <label for="address">Address</label>
      <input
        id="address"
        formControlName="address"
        type="text"
        class="form-control"
        placeholder="Enter your address"
        required
      />
    </div>

    <div class="form-group">
      <label for="contactNumber">Contact Number</label>
      <input
        id="contactNumber"
        formControlName="contactNumber"
        type="text"
        class="form-control"
        placeholder="Enter contact number"
        required
      />
    </div>

    <div class="form-group">
      <label for="pincode">Pincode</label>
      <input
        id="pincode"
        formControlName="pincode"
        type="text"
        class="form-control"
        placeholder="Enter pincode"
        required
      />
    </div>

    <!-- File input for profile image
    <div class="form-group">
      <label for="profileImage">Profile Image</label>
      <input
        id="profileImage"
        type="file"
        class="form-control"
        (change)="onFileChange($event)"
      />
    </div> -->

    <div class="form-group">
      <label for="accessRole">Access Role</label>
      <select
        id="accessRole"
        formControlName="accessRole"
        class="form-control"
        required
      >
        <option value="USER">User</option>
        <option value="ADMIN">Admin</option>
      </select>
    </div>

    <!-- <div class="form-group">
      <label for="password">Password</label>
      <input
        id="password"
        formControlName="password"
        type="password"
        class="form-control"
        placeholder="Enter password"
        required
      /> -->
    <!-- </div> -->

    <button type="submit" class="btn btn-primary" [disabled]="userForm.invalid">
      Submit
    </button>
  </form>
</div>
